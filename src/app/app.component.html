<div class="app-component" style="height: 100vh;" [class]="'theme-wrapper ' + theme">
  <mat-toolbar #toolBara class="app-component__toolbar fixed" [class.mobile-view]="mobileView && enableBack" color="primary">
    <mat-toolbar-row fxLayoutAlign="space-between center">
      <button mat-icon-button *ngIf="!enableBack" color="warn" (click)="toggleSidenav()" fxShow="true" fxHide.gt-sm>
        <mat-icon *ngIf="!sidenav.opened; else showCross">menu</mat-icon>
        <ng-template #showCross>
          <mat-icon aria-label="Side nav toggle icon">close</mat-icon>
        </ng-template>
      </button>
      <button mat-mini-fab *ngIf="enableBack" color="warn" (click)="toggleSidenav()" fxShow="true" fxHide.gt-sm>
        <mat-icon >navigate_before</mat-icon>
      </button>
      <div class="app-component-navigation__container" fxFlex fxLayoutAlign="space-between center" fxLayoutAlign.xs="end end">
        <span fxFlex="20" (click)="navigateHome()" fxHide="true" fxShow.gt-sm> {{ title }} </span>

        <div fxFlex="40"  *ngIf="!mobileView" class="app-component-search__container">
          <mat-form-field class="example-form-field">
            <mat-label>{{ 'searchInputPleaceHolder' | translate }}</mat-label>
            <input matInput type="text" [(ngModel)]="value">
            <button mat-button *ngIf="value" matSuffix mat-icon-button aria-label="Clear" (click)="value=''">
              <mat-icon>close</mat-icon>
            </button>
            <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="value=''">
              <mat-icon>search</mat-icon>
            </button>
          </mat-form-field>
        </div>

        <!-- <span class="menu-spacer"></span> -->
        <div fxFlex="40" fxFlex.xs="60">
          <app-main-menu [menuItems]="menuItems"></app-main-menu>
        </div>
      </div>
    </mat-toolbar-row>
  </mat-toolbar>

  <mat-sidenav-container fxFlexFill>
    <mat-sidenav #sidenav>
      <mat-nav-list>
        <!-- <a (click)="sidenav.toggle()" href="" mat-list-item>Close</a> -->
        <a routerLink="/" mat-list-item  routerLinkActive="active-link" [routerLinkActiveOptions]="{ exact: true }" >Home</a>
        <a [routerLink]="['/products']" mat-list-item  routerLinkActive="active-link">Products</a>
        <a [routerLink]="['/cart']" mat-list-item  routerLinkActive="active-link">Cart</a>
        <a href="#" mat-list-item (click)="onLoginClick()" *ngIf="!isAuthenticated"  routerLinkActive="active-link">Login / Sign Up</a>
        <a href="#" mat-list-item (click)="onLogoutClick()" *ngIf="isAuthenticated"  routerLinkActive="active-link">Logout</a>
        <div>
          <p>Language</p>
          <button mat-icon-button (click)="changeLanguage('en')">
            <mat-icon svgIcon="en"></mat-icon>
          </button>
          <button mat-icon-button (click)="changeLanguage('ro')">
            <mat-icon svgIcon="ro"></mat-icon>
          </button>
          <button mat-icon-button (click)="changeLanguage('fr')">
            <mat-icon svgIcon="fr"></mat-icon>
          </button>
        </div>
        <div>
          <p>Active Theme: {{ theme }}</p>
          <mat-slide-toggle [checked]="theme === 'default-theme'" (change)="changeTheme('default-theme')">Default theme</mat-slide-toggle>
          <mat-slide-toggle [checked]="theme === 'dark-theme'" (change)="changeTheme('dark-theme')">Dark theme</mat-slide-toggle>
          <mat-slide-toggle [checked]="theme === 'crazy-theme'" (change)="changeTheme('crazy-theme')">Crazy theme</mat-slide-toggle>
        </div>
      </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content #content cdkScrollable fxFlexFill>
      <div class="app-component__container" [@routeAnimations]="o.isActivated">
        <router-outlet #o="outlet"></router-outlet>
      </div>
      <app-footer></app-footer>
    </mat-sidenav-content>

  </mat-sidenav-container>
</div>
